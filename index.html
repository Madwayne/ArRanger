<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArRanger</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="app-header">
        <div class="header-left">
            <div class="header-left-top">
                <div class="logo">ArRanger</div>
                <div class="track-controls">
                    <button class="btn-primary" id="saveTrackBtn">üíæ<br>Save</button>
                    <button class="btn-primary" id="openTrackBtn">üìÇ<br>Open</button>
                </div>
                <div class="track-title" id="trackTitle">
                    <span>New track</span>
                    <button class="edit-btn">‚úèÔ∏è</button>
                </div>
            </div>
            <div class="header-left-bottom">
                <div class="app-description">
                    <p>–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–µ–∫–∞</p>
                    <p>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</p>
                    <p>üìú –î–æ–±–∞–≤–ª—è–π —Å–µ–∫—Ü–∏–∏ —Ç—Ä–µ–∫–∞ (Sections). –°–µ–∫—Ü–∏–∏ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –ø–æ —Ç—Ä–µ–∫—É.</p>
                    <p>üéº –î–æ–±–∞–≤–ª—è–π –¥–æ—Ä–æ–∂–∫–∏ —Ç—Ä–µ–∫–∞ (Lines). –î–æ—Ä–æ–∂–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å, —É–¥–∞–ª—è—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å.<br>–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–æ—Ä–æ–∂–∫–∏.</p>
                    <p>üéµ –î–ª—è –∫–∞–∂–¥–æ–π –¥–æ—Ä–æ–∂–∫–∏ –∑–∞–ø–∏—à–∏, –∫–∞–∫ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∑–≤—É—á–∞—Ç—å –≤ —Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π —Å–µ–∫—Ü–∏–∏ —Ç—Ä–µ–∫–∞.</p>
                    <p>üîÅ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç—Ä–µ–∫–∞ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ —ç–∫—Å–ø–æ—Ä—Ç –≤ JSON. –†–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å<br>–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—ã–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–∫–∞ –≤ PDF</p>               
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="settings-container">
                <div class="settings-title">‚öôÔ∏è Settings</div>
                <div class="setting-item">
                    <label for="showTimeline">Show timeline:</label>
                    <input type="checkbox" id="showTimeline">
                </div>
                <div class="setting-item">
                    <label for="bpm">BPM:</label>
                    <input type="number" id="bpm" min="1" max="256" value="120">
                </div>
                <div class="setting-item">
                    <label for="signature">Signature:</label>
                    <div class="signature-container">
                        <select id="signatureTop">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4" selected>4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>
                        <span>/</span>
                        <select id="signatureBottom">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="4" selected>4</option>
                            <option value="8">8</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="import-export-container">
                <div class="import-export-title">üíæ Import/Export</div>
                <div class="import-export-items">
                    <div class="import-export-item" id="importItem">
                        <button class="btn-primary" id="importTrack">Import JSON</button>
                    </div>
                    <div class="import-export-item" id="exportItem">
                        <button class="btn-primary" id="exportTrack">Export JSON</button>
                    </div>
                    <div class="import-export-item" id="pdfItem">
                        <button class="btn-primary" id="exportPDF">Export PDF</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="workspace">
        <div class="workspace-top">
            <div class="fixed-left-top">
                <div class="header-cell sections">
                    <span>Sections</span>
                    <button class="add-btn" id="addSectionBtn">+</button>
                </div>
                <div class="header-cell bars">
                    <span>Bars</span>
                </div>
                <div class="header-cell timeline" id="timelineHeader">
                    <span>Timeline</span>
                </div>
            </div>
            
            <div class="fixed-right-top-container shadow-container" id="fixedRightTopContainer">
                <div class="fixed-right-top scrollable" id="fixedRightTop">
                    <div class="content-row sections" id="sectionsRow">
                    </div>
                    <div class="content-row bars" id="barsRow">
                    </div>
                    <div class="content-row timeline" id="timelineRow">

                    </div>
                </div>
            </div>
        </div>
        
        <div class="workspace-separator">
            <div class="separator-line"></div>
        </div>
        
        <div class="lines-header-and-reset-container">
            <div class="lines-header-container">
                <div class="lines-header-content">
                    <span>Lines</span>
                    <button class="add-btn" id="addLineBtn">+</button>
                </div>
            </div>
            <button class="btn-primary" id="resetTrackBtn">Reset track</button>
        </div>
        
        <div class="workspace-bottom">
            <div class="fixed-left-bottom-container shadow-container" id="lineHeadersContainer">
                <div class="line-headers-container scrollable" id="lineHeaders">
                </div>
            </div>
            <div class="scrollable-right-bottom-container shadow-container" id="linesContainerContainer">
                <div class="scrollable-right-bottom scrollable" id="linesContainer">
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="addSectionModal">    
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Add section</div>
                <button class="btn-primary" id="customSectionBtn">Custom section</button>
            </div>
            <div class="section-list" id="standardSectionsList">
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeAddSectionModal">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="addCustomSectionModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Add custom section</div>
            </div>
            <div class="form-group">
                <label for="sectionName">Section name:</label>
                <input type="text" id="sectionName" placeholder="Enter section name">
            </div>
            <div class="form-group">
                <label for="sectionColor">Color:</label>
                <div class="color-picker">
                    <input type="color" id="sectionColor" value="#daa520">
                </div>
            </div>
            <div class="form-group">
                <label for="sectionComment">Comment:</label>
                <textarea id="sectionComment" placeholder="Enter section comment"></textarea>
            </div>
            <div class="form-group">
                <label for="sectionDuration">Duration:</label>
                <div class="duration-controls">
                    <button id="decreaseDuration">-</button>
                    <input type="number" id="sectionDuration" min="1" max="64" value="4">
                    <button id="increaseDuration">+</button>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeCustomSectionModal">Cancel</button>
                <button class="btn-primary" id="addCustomSection">Add</button>
            </div>
        </div>
    </div>

    <div class="modal" id="editSectionModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Edit section</div>
            </div>            
            <div class="form-group">
                <label for="editSectionName">Section name:</label>
                <input type="text" id="editSectionName" placeholder="Enter section name">
            </div>
            <div class="form-group">
                <label for="editSectionColor">Color:</label>
                <div class="color-picker">
                    <input type="color" id="editSectionColor" value="#daa520">
                </div>
            </div>
            <div class="form-group">
                <label for="editSectionComment">Comment:</label>
                <textarea id="editSectionComment" placeholder="Enter section comment"></textarea>
            </div>
            <div class="form-group">
                <label for="editSectionDuration">Duration:</label>
                <div class="duration-controls">
                    <button id="editDecreaseDuration">-</button>
                    <input type="number" id="editSectionDuration" min="1" max="64" value="4">
                    <button id="editIncreaseDuration">+</button>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeEditSectionModal">Cancel</button>
                <button class="btn-primary" id="applySectionChanges">Apply</button>
            </div>
        </div>
    </div>

    <div class="modal" id="editLineModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Edit line</div>
            </div>            
            <div class="form-group">
                <label for="editLineName">Line name:</label>
                <input type="text" id="editLineName" placeholder="Enter line name">
            </div>
            <div class="form-group">
                <label for="editLineComment">Comment:</label>
                <textarea id="editLineComment" placeholder="Enter line comment"></textarea>
            </div>
            <div class="form-group">
                <label for="editLineSound">Sound:</label>
                <select id="editLineSound">
                    <option value="">Select sound</option>
                    <option value="Kick">Kick</option>
                    <option value="Snare">Snare</option>
                    <option value="Hi-Hat">Hi-Hat</option>
                    <option value="Bass">Bass</option>
                    <option value="Guitar">Guitar</option>
                    <option value="Piano">Piano</option>
                    <option value="Synth">Synth</option>
                    <option value="Strings">Strings</option>
                    <option value="Vocals">Vocals</option>
                    <option value="FX">FX</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeEditLineModal">Cancel</button>
                <button class="btn-primary" id="applyLineChanges">Apply</button>
            </div>
        </div>
    </div>

    <div class="modal" id="viewLineModal">
        <div class="modal-content" style="max-width: 800px; width: 90%;">
            <div class="modal-header">
                <div class="modal-title">Line Details</div>
            </div>
            <div class="line-modal-header">
                <div class="line-modal-name-sound">
                    <div class="line-modal-name" id="viewLineName"></div>
                    <div class="line-modal-sound" id="viewLineSound"></div>
                </div>
                <div class="line-modal-comment" id="viewLineComment"></div>
            </div>
            <div class="line-modal-content">
                <div class="line-modal-sections-container shadow-container" id="lineModalSectionsContainer">
                    <div class="line-modal-sections scrollable" id="lineModalSections">
                    </div>
                </div>
                <div class="line-modal-cells-container shadow-container" id="lineModalCellsContainer">
                    <div class="line-modal-cells scrollable" id="lineModalCells">
                    </div>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeViewLineModal">Close</button>
            </div>
        </div>
    </div>

    <div class="modal" id="openTrackModal">
        <div class="modal-content" style="max-width: 600px; width: 90%;">
            <div class="modal-header">
                <div class="modal-title">Open Track</div>
            </div>
            <div class="tracks-list" id="tracksList">
                <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="modal-buttons">
                <button class="btn-secondary" id="closeOpenTrackModal">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <input type="file" id="importFileInput" accept=".json" style="display: none;">
</body>
</html>